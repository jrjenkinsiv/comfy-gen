# LoRA Catalog for ComfyGen
# This file contains semantic descriptions and metadata for all LoRAs
# Used by scripts/select_model.py for intelligent model/LoRA selection
#
# Structure:
#   loras: List of LoRA definitions with metadata
#   model_suggestions: Predefined scenarios for auto-selection
#   keyword_mappings: Keywords to tag mappings for intelligent matching
#
# Each LoRA entry contains:
#   filename: Exact filename in C:\Users\jrjen\comfy\models\loras\
#   tags: Semantic tags for matching (e.g., ["acceleration", "physics"])
#   compatible_with: List of model filenames this LoRA works with
#   recommended_strength: Default strength value (0.0-1.0+)
#   description: Human-readable description
#   use_cases: List of scenarios where this LoRA is useful

loras:
  # ========================================
  # ACCELERATION LoRAs - Reduce generation steps
  # ========================================
  # These LoRAs reduce Wan 2.2 generation from 30+ steps to 4 steps
  # ALWAYS use strength 1.0 for acceleration LoRAs
  # Must match exact model variant (high/low noise, t2v/i2v)
  
  - filename: "wan2.2_t2v_lightx2v_4steps_lora_v1.1_high_noise.safetensors"
    tags: ["acceleration", "speed", "4-step", "wan2.2", "text-to-video", "high-noise"]
    compatible_with: ["wan2.2_t2v_high_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 1.0  # Must be 1.0 for acceleration
    description: "Reduces Wan 2.2 T2V high noise generation to 4 steps for faster video creation"
    use_cases: ["fast video generation", "text-to-video with high noise model"]
    
  - filename: "wan2.2_t2v_lightx2v_4steps_lora_v1.1_low_noise.safetensors"
    tags: ["acceleration", "speed", "4-step", "wan2.2", "text-to-video", "low-noise"]
    compatible_with: ["wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 1.0
    description: "Reduces Wan 2.2 T2V low noise generation to 4 steps for faster video creation"
    use_cases: ["fast video generation", "text-to-video with low noise model"]
    
  - filename: "wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors"
    tags: ["acceleration", "speed", "4-step", "wan2.2", "image-to-video", "high-noise"]
    compatible_with: ["wan2.2_i2v_high_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 1.0
    description: "Reduces Wan 2.2 I2V high noise generation to 4 steps for faster image animation"
    use_cases: ["fast video generation", "image-to-video with high noise model", "animation"]
    
  - filename: "wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors"
    tags: ["acceleration", "speed", "4-step", "wan2.2", "image-to-video", "low-noise"]
    compatible_with: ["wan2.2_i2v_low_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 1.0
    description: "Reduces Wan 2.2 I2V low noise generation to 4 steps for faster image animation"
    use_cases: ["fast video generation", "image-to-video with low noise model", "animation"]
    
  - filename: "Wan2.2-I2V-A14B-4steps-lora-rank64-Seko-V1_high_noise_model.safetensors"
    tags: ["acceleration", "speed", "4-step", "wan2.2", "image-to-video", "seko", "high-noise"]
    compatible_with: ["wan2.2_i2v_high_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 1.0  # Must be 1.0 for acceleration
    description: "Seko's 4-step acceleration LoRA for Wan 2.2 I2V high noise model"
    use_cases: ["fast video generation", "image-to-video", "animation", "alternative acceleration"]
    
  # ========================================
  # PHYSICS and MOTION LoRAs
  # ========================================
  # These LoRAs enhance realism and motion quality in video generation
  # Typically use strength 0.6-0.8, adjust based on desired effect
  # Can be combined with acceleration LoRAs
  
  - filename: "BoobPhysics_WAN_v6.safetensors"
    tags: ["physics", "motion", "body", "wan2.2", "realistic", "bounce"]
    compatible_with: ["wan2.2_t2v_high_noise_14B_fp8_scaled.safetensors", "wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 0.7  # Range: 0.5-0.9 depending on desired intensity
    description: "Enhances realistic body physics and natural motion in video generation"
    use_cases: ["realistic body movement", "natural physics", "character animation", "motion enhancement"]
    
  - filename: "BounceHighWan2_2.safetensors"
    tags: ["physics", "motion", "bounce", "wan2.2", "high-noise", "dynamic"]
    compatible_with: ["wan2.2_t2v_high_noise_14B_fp8_scaled.safetensors", "wan2.2_i2v_high_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 0.7
    description: "Adds dynamic bounce and motion effects for high noise Wan 2.2 models"
    use_cases: ["dynamic motion", "bounce effects", "energetic movement", "action scenes"]
    
  - filename: "BounceLowWan2_2.safetensors"
    tags: ["physics", "motion", "bounce", "wan2.2", "low-noise", "dynamic"]
    compatible_with: ["wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors", "wan2.2_i2v_low_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 0.7
    description: "Adds dynamic bounce and motion effects for low noise Wan 2.2 models"
    use_cases: ["dynamic motion", "bounce effects", "energetic movement", "action scenes"]
    
  - filename: "wan-thiccum-v3.safetensors"
    tags: ["body", "enhancement", "wan2.2", "character"]
    compatible_with: ["wan2.2_t2v_high_noise_14B_fp8_scaled.safetensors", "wan2.2_t2v_low_noise_14B_fp8_scaled.safetensors"]
    recommended_strength: 0.7  # Range: 0.5-0.9
    description: "Body enhancement LoRA for character-focused video generation"
    use_cases: ["character enhancement", "body modification", "character-focused content"]

  # ========================================
  # FLUX IMAGE LoRAs - Quality and style enhancement
  # ========================================
  # These LoRAs work with Flux.1 Dev for image generation
  # Source: HuggingFace XLabs-AI flux-lora-collection, ByteDance Hyper-SD
  
  - filename: "Hyper-FLUX.1-dev-8steps-lora.safetensors"
    tags: ["acceleration", "speed", "8-step", "flux", "turbo"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.125  # Use with steps=8
    description: "Reduces Flux.1 Dev from 20+ steps to 8 steps for faster generation"
    use_cases: ["fast image generation", "turbo mode", "quick iterations"]
    notes: "Use --steps 8 with this LoRA. Strength 0.125 recommended."
    
  - filename: "realism_lora.safetensors"
    tags: ["realism", "photorealistic", "flux", "quality", "photo"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.8  # Range: 0.6-1.0
    description: "Enhances photorealistic quality in Flux.1 generations"
    use_cases: ["photorealistic images", "portrait photography", "realistic rendering"]
    
  - filename: "scenery_lora.safetensors"
    tags: ["scenery", "landscape", "nature", "flux", "environment"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.7  # Range: 0.5-0.9
    description: "Improves landscape and scenery generation quality"
    use_cases: ["landscapes", "nature scenes", "environments", "scenery"]
    
  - filename: "mjv6_lora.safetensors"
    tags: ["midjourney", "style", "artistic", "flux", "mjv6"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.8  # Range: 0.6-1.0
    description: "Midjourney v6 aesthetic style for artistic images"
    use_cases: ["artistic images", "midjourney style", "stylized rendering"]
    
  - filename: "art_lora.safetensors"
    tags: ["art", "artistic", "painting", "flux", "creative"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.7  # Range: 0.5-0.9
    description: "Artistic and painterly style enhancement"
    use_cases: ["digital art", "paintings", "artistic style"]
    
  - filename: "anime_lora.safetensors"
    tags: ["anime", "manga", "japanese", "flux", "cartoon"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.8  # Range: 0.6-1.0
    description: "Anime and manga art style"
    use_cases: ["anime characters", "manga style", "japanese animation"]
    
  - filename: "disney_lora.safetensors"
    tags: ["disney", "cartoon", "animation", "flux", "pixar"]
    compatible_with: ["flux1-dev-fp8.safetensors"]
    recommended_strength: 0.8  # Range: 0.6-1.0
    description: "Disney/Pixar animation style"
    use_cases: ["cartoon characters", "disney style", "animated look"]

# ========================================
# MODEL SUGGESTIONS - Predefined scenarios
# ========================================
# Used for auto-selection based on prompt content
# Each scenario defines default model, workflow, and LoRAs

model_suggestions:
  # Text-to-video scenarios
  text_to_video:
    model: "wan2.2_t2v_high_noise_14B_fp8_scaled.safetensors"
    workflow: "workflows/wan22-t2v.json"
    default_loras:  # Always include acceleration LoRA for 4-step generation
      - "wan2.2_t2v_lightx2v_4steps_lora_v1.1_high_noise.safetensors"
    keywords: ["video", "animation", "motion", "movement", "scene", "action"]
    
  # Image-to-video scenarios
  image_to_video:
    model: "wan2.2_i2v_high_noise_14B_fp8_scaled.safetensors"
    workflow: "workflows/wan22-i2v.json"
    default_loras:  # Always include acceleration LoRA
      - "wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors"
    keywords: ["animate", "bring to life", "add motion to"]
    
  # Simple image generation
  simple_image:
    model: "v1-5-pruned-emaonly-fp16.safetensors"
    workflow: "workflows/flux-dev.json"
    default_loras: []  # SD 1.5 doesn't need LoRAs by default
    keywords: ["image", "photo", "picture", "portrait", "landscape", "drawing"]

  # ========================================
  # GAME ASSET GENERATION SCENARIOS
  # ========================================
  # Presets for generating game icons, sprites, and UI elements
  
  # Ship icons for battleship game
  battleship_ship_icon:
    model: "v1-5-pruned-emaonly-fp16.safetensors"
    workflow: "workflows/flux-dev.json"
    default_loras: []
    keywords: ["ship icon", "naval icon", "vessel icon", "battleship icon"]
    prompt_template: "(single {subject}:1.8), top-down view, military vessel, clean icon style, game asset, centered composition, {style}"
    negative_template: "multiple ships, side view, realistic photo, blurry, complex background, text, watermark"
    style_suggestions:
      - "flat design, vector style, solid colors"
      - "pixel art, 16-bit style, retro game"
      - "cartoon style, bold outlines, vibrant"
      
  # Explosion/hit effects
  battleship_explosion:
    model: "v1-5-pruned-emaonly-fp16.safetensors"
    workflow: "workflows/flux-dev.json"
    default_loras: []
    keywords: ["explosion icon", "hit effect", "blast effect"]
    prompt_template: "(single explosion:1.8), game effect sprite, clean edges, {style}"
    negative_template: "realistic photo, multiple explosions, complex scene"
    style_suggestions:
      - "cartoon explosion, orange and red, comic book style"
      - "pixel art explosion, 8-bit, retro"
      
  # Water/ocean tiles
  battleship_water:
    model: "v1-5-pruned-emaonly-fp16.safetensors"
    workflow: "workflows/flux-dev.json"
    default_loras: []
    keywords: ["water tile", "ocean tile", "sea texture"]
    prompt_template: "tileable ocean water texture, {style}, seamless pattern"
    negative_template: "objects, ships, land, text"
    style_suggestions:
      - "stylized waves, blue gradient, game tile"
      - "cartoon water, cel-shaded, bright blue"
      
  # UI elements
  game_ui_button:
    model: "v1-5-pruned-emaonly-fp16.safetensors"
    workflow: "workflows/flux-dev.json"
    default_loras: []
    keywords: ["game button", "ui button", "interface element"]
    prompt_template: "(single button:1.8), game UI element, {style}, clean design"
    negative_template: "text, multiple buttons, complex background"
    style_suggestions:
      - "nautical theme, brass and wood, pirate style"
      - "modern flat design, rounded corners, gradient"

# ========================================
# KEYWORD MAPPINGS - Intelligent LoRA selection
# ========================================
# Maps prompt keywords to LoRA tags with boost scores
# When a keyword appears in prompt, LoRAs with matching tags get score boost
# Higher boost = stronger priority for that LoRA
#
# Boost score guidelines:
#   2.0+ : Critical match, strongly prefer this LoRA
#   1.5  : Good match, prefer this LoRA
#   1.0  : Relevant match, consider this LoRA

keyword_mappings:
  physics:
    tags: ["physics", "motion"]
    boost_score: 2.0  # Strong preference for physics LoRAs
  
  motion:
    tags: ["motion", "dynamic"]
    boost_score: 1.5
    
  bounce:
    tags: ["bounce"]
    boost_score: 2.0
    
  fast:
    tags: ["acceleration", "speed"]
    boost_score: 1.0
    
  quick:
    tags: ["acceleration", "speed"]
    boost_score: 1.0
    
  body:
    tags: ["body", "character"]
    boost_score: 1.5
    
  character:
    tags: ["character", "body"]
    boost_score: 1.5
    
  realistic:
    tags: ["realistic", "physics"]
    boost_score: 1.3
    
  dynamic:
    tags: ["dynamic", "motion"]
    boost_score: 1.5

  # Flux image LoRA keywords
  photo:
    tags: ["realism", "photorealistic"]
    boost_score: 2.0
    
  photorealistic:
    tags: ["realism", "photorealistic"]
    boost_score: 2.0
    
  portrait:
    tags: ["realism", "photorealistic"]
    boost_score: 1.5
    
  landscape:
    tags: ["scenery", "landscape", "nature"]
    boost_score: 2.0
    
  scenery:
    tags: ["scenery", "landscape"]
    boost_score: 2.0
    
  nature:
    tags: ["scenery", "nature", "environment"]
    boost_score: 1.5
    
  midjourney:
    tags: ["midjourney", "mjv6"]
    boost_score: 2.0
    
  artistic:
    tags: ["art", "artistic", "creative"]
    boost_score: 1.5
    
  painting:
    tags: ["art", "painting"]
    boost_score: 1.5
    
  anime:
    tags: ["anime", "manga"]
    boost_score: 2.0
    
  manga:
    tags: ["anime", "manga"]
    boost_score: 2.0
    
  disney:
    tags: ["disney", "cartoon", "pixar"]
    boost_score: 2.0
    
  cartoon:
    tags: ["cartoon", "disney", "animation"]
    boost_score: 1.5
    
  turbo:
    tags: ["acceleration", "speed", "turbo"]
    boost_score: 2.0
