# Generation Presets
# These presets provide common parameter configurations for different use cases.
# Presets can be used with the --preset flag, and individual parameters can be
# overridden with specific CLI arguments.

# Default negative prompt applied to all generations unless overridden
# Research shows: SD models struggle with "duplicate" prevention in negative prompts
# Solution: Must use POSITIVE weighting for "single" instead
default_negative_prompt: "bad quality, blurry, low resolution, watermark, text, signature, deformed, ugly, extra limbs, mutated, disfigured, poorly drawn, bad anatomy, jpeg artifacts"

# Subject-specific negative prompts for common use cases
negative_prompts:
  vehicles:
    # For single car/vehicle generation
    - "multiple vehicles, duplicate cars, two cars, three cars, car show, parking lot, vehicle crowd, cloned car, ghost car, reflected car, mirrored vehicles, convoy, traffic"
  people:
    # For single person generation
    - "multiple people, two people, crowd, group, clone, duplicate person, ghost person, extra person, background people"
  objects:
    # For single object/product
    - "multiple objects, duplicate, two objects, clones, copies, repeated pattern"
  general:
    # Always avoid
    - "bad quality, blurry, low resolution, watermark, text, signature, deformed, ugly, extra limbs, mutated, disfigured, poorly drawn, bad anatomy"

# Positive prompt helpers for single subject emphasis
positive_emphasis:
  single_subject:
    # Use these in POSITIVE prompt with weights for best results
    - "(single:1.5)"          # Emphasize singularity
    - "(one:1.4)"             # Reinforce one subject
    - "(only one:1.3)"        # Explicit quantity
    - "isolated"              # Subject isolation
    - "lone"                  # Solo emphasis
  composition:
    # Composition that reduces duplicates
    - "centered composition"
    - "subject isolation"
    - "clean background"
    - "shallow depth of field" # Blurs potential duplicates

# Validation settings
validation:
  enabled: true                # Enable validation by default
  auto_retry: true             # Retry failed generations automatically
  retry_limit: 3               # Max retry attempts
  positive_threshold: 0.25     # Minimum CLIP score for positive prompt

presets:
  # Fast draft generation - lower quality but faster
  draft:
    steps: 10
    cfg: 5.0
    sampler: euler
    scheduler: normal
    validate: false            # Skip validation for drafts
    
  # Balanced generation - good quality/speed tradeoff (default-like settings)
  balanced:
    steps: 20
    cfg: 7.0
    sampler: euler_ancestral
    scheduler: normal
    validate: true
    
  # High quality generation - slower but better results
  high-quality:
    steps: 50
    cfg: 7.5
    sampler: dpmpp_2m_sde
    scheduler: karras
    validate: true
    auto_retry: true
    
  # Fast sampler with good quality
  fast:
    steps: 15
    cfg: 7.0
    sampler: dpmpp_2m
    scheduler: normal
    validate: false
    
  # Maximum quality - very slow
  ultra:
    steps: 100
    cfg: 8.0
    sampler: dpmpp_2m_sde
    scheduler: karras
    validate: true
    auto_retry: true
    positive_threshold: 0.30   # Higher threshold for ultra quality

  # Realistic Vision optimized preset - for photorealistic human portraits
  realistic-portrait:
    workflow: workflows/realistic-vision.json
    steps: 150
    cfg: 9.0
    sampler: dpmpp_sde
    scheduler: karras
    width: 1024
    height: 1024
    validate: true
    loras:
      - name: more_details.safetensors
        strength: 0.6          # Subtle detail enhancement
      - name: add_detail.safetensors
        strength: 0.4          # Additional detail tweaking
    notes: "Best for photorealistic portraits. Use Realistic Vision checkpoint."

  # Adult/NSFW portrait preset - optimized for explicit content
  nsfw-portrait:
    workflow: workflows/realistic-vision.json
    steps: 150
    cfg: 11.0                  # Higher CFG for better prompt adherence
    sampler: dpmpp_sde
    scheduler: karras
    width: 1024
    height: 1024
    validate: true
    loras:
      - name: more_details.safetensors
        strength: 0.5
      - name: big_breasts_v2_epoch_30.safetensors
        strength: 0.7
    notes: "For adult content. Requires explicit prompts."
  
  # ========================================
  # VIDEO PRESETS (Wan 2.2)
  # ========================================
  
  # Fast video generation - 4 steps with acceleration LoRA
  video-fast:
    workflow: workflows/wan22-t2v.json
    steps: 4
    cfg: 1.0                   # Low CFG for acceleration LoRAs
    sampler: euler
    scheduler: simple
    length: 81                 # ~5 seconds at 16fps
    fps: 16
    validate: false            # Skip validation for speed
    notes: "Fast video generation with 4-step acceleration LoRA. Acceleration LoRA is included in workflow."
  
  # High quality video - 30 steps with physics LoRAs
  video-quality:
    workflow: workflows/wan22-t2v.json
    steps: 30
    cfg: 6.0
    sampler: euler
    scheduler: normal
    length: 81
    fps: 16
    loras:
      - name: BoobPhysics_WAN_v6.safetensors
        strength: 0.7          # Realistic body physics
      - name: BounceHighWan2_2.safetensors
        strength: 0.7          # Dynamic motion
    validate: true
    notes: "High quality video with realistic physics. Use without acceleration LoRA (remove from workflow or use 30 steps)."
  
  # NSFW video generation preset
  video-nsfw:
    workflow: workflows/wan22-t2v.json
    steps: 30
    cfg: 7.0                   # Higher CFG for better prompt adherence
    sampler: euler
    scheduler: normal
    length: 81
    fps: 16
    loras:
      - name: BoobPhysics_WAN_v6.safetensors
        strength: 0.8
      - name: wan-thiccum-v3.safetensors
        strength: 0.7
    validate: true
    notes: "For adult video content. Requires explicit prompts. Includes physics and body enhancement."
